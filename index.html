<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Yams  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Yams  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Yams Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/jpsim/Yams">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Yams Reference</a>
      <img class="carat" src="img/carat.png" />
      Yams  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Constructor.html">Constructor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Emitter.html">Emitter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Emitter/LineBreak.html">– LineBreak</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Emitter/Options.html">– Options</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Parser.html">Parser</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Resolver.html">Resolver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Resolver/Rule.html">– Rule</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Tag.html">Tag</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Tag/Name.html">– Name</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/YAMLDecoder.html">YAMLDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/YAMLEncoder.html">YAMLEncoder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Node.html">Node</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Node/Mapping.html">– Mapping</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Node/Scalar.html">– Scalar</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Node/Sequence.html">– Sequence</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/YamlError.html">YamlError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/YamlError/Context.html">– Context</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/BinaryInteger.html">BinaryInteger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Date.html">Date</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Decimal.html">Decimal</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Dictionary.html">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/FixedWidthInteger.html">FixedWidthInteger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Float.html">Float</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/NSNull.html">NSNull</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Set.html">Set</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UInt.html">UInt</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URL.html">URL</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams7composeAA4NodeOSgSS4yaml_AA8ResolverCAA11ConstructorCtKF">compose(yaml:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams11compose_allAA12YamlSequenceVyAA4NodeOGSS4yaml_AA8ResolverCAA11ConstructorCtKF">compose_all(yaml:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams4dumpSSypSg6object_Sb9canonicalSi6indentSi5widthSb12allowUnicodeAA7EmitterC9LineBreakO04lineK0Sb13explicitStartSb0M3EndSi5major_Si5minortSg7versionSb8sortKeystKF">dump(object:canonical:indent:width:allowUnicode:lineBreak:explicitStart:explicitEnd:version:sortKeys:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams4dumpSSx7objects_Sb9canonicalSi6indentSi5widthSb12allowUnicodeAA7EmitterC9LineBreakO04lineK0Sb13explicitStartSb0M3EndSi5major_Si5minortSg7versionSb8sortKeystKs8SequenceRzlF">dump(objects:canonical:indent:width:allowUnicode:lineBreak:explicitStart:explicitEnd:version:sortKeys:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams4loadypSgSS4yaml_AA8ResolverCAA11ConstructorCtKF">load(yaml:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams8load_allAA12YamlSequenceVyypGSS4yaml_AA8ResolverCAA11ConstructorCtKF">load_all(yaml:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams9serializeSSAA4NodeO4node_Sb9canonicalSi6indentSi5widthSb12allowUnicodeAA7EmitterC9LineBreakO04lineL0Sb13explicitStartSb0N3EndSi5major_Si5minortSg7versionSb8sortKeystKF">serialize(node:canonical:indent:width:allowUnicode:lineBreak:explicitStart:explicitEnd:version:sortKeys:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:4Yams9serializeSSx5nodes_Sb9canonicalSi6indentSi5widthSb12allowUnicodeAA7EmitterC9LineBreakO04lineK0Sb13explicitStartSb0M3EndSi5major_Si5minortSg7versionSb8sortKeystKs8SequenceRzAA4NodeO7ElementRtzlF">serialize(nodes:canonical:indent:width:allowUnicode:lineBreak:explicitStart:explicitEnd:version:sortKeys:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NodeRepresentable.html">NodeRepresentable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ScalarConstructible.html">ScalarConstructible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ScalarRepresentable.html">ScalarRepresentable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SexagesimalConvertible.html">SexagesimalConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/YAMLEncodable.html">YAMLEncodable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Mark.html">Mark</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/YamlSequence.html">YamlSequence</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='yams' class='heading'>Yams</h1>

<p><img src="yams.jpg" alt="Yams"></p>

<p>A sweet and swifty <a href="http://yaml.org/">Yaml</a> parser built on
<a href="http://pyyaml.org/wiki/LibYAML">libYAML</a>.</p>

<p><a href="https://circleci.com/gh/jpsim/Yams"><img src="https://circleci.com/gh/jpsim/Yams.svg?style=svg" alt="CircleCI"></a></p>
<h2 id='installation' class='heading'>Installation</h2>

<p>Building Yams on macOS requires Xcode 9.x or a Swift 3.2/4.x toolchain with
the Swift Package Manager.</p>

<p>Building Yams on Linux requires a Swift 4.x compiler and Swift Package Manager
to be installed.</p>
<h3 id='swift-package-manager' class='heading'>Swift Package Manager</h3>

<p>Add <code>.package(url: &quot;https://github.com/jpsim/Yams.git&quot;, from: &quot;0.7.0&quot;)</code> to your
<code>Package.swift</code> file&rsquo;s <code>dependencies</code>.</p>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p>Add <code>pod &#39;Yams&#39;</code> to your <code>Podfile</code>.</p>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>Add <code>github &quot;jpsim/Yams&quot;</code> to your <code>Cartfile</code>.</p>
<h2 id='usage' class='heading'>Usage</h2>

<p>Yams has three groups of conversion APIs:
one for use with <a href="#codable-types"><code>Codable</code> types</a>,
another for <a href="#swift-standard-library-types">Swift Standard Library types</a>,
and a third one for a <a href="#yamsnode">Yams-native</a> representation.</p>
<h4 id='code-codable-code-types' class='heading'><code>Codable</code> types</h4>

<ul>
<li>Codable is an <a href="https://developer.apple.com/documentation/foundation/archives_and_serialization/encoding_and_decoding_custom_types">encoding &amp; decoding strategy introduced in Swift 4</a>
enabling easy conversion between YAML and other Encoders like
<a href="https://developer.apple.com/documentation/foundation/jsonencoder">JSONEncoder</a> and <a href="https://developer.apple.com/documentation/foundation/propertylistencoder">PropertyListEncoder</a>.</li>
<li>Lowest computational overhead, equivalent to <code>Yams.Node</code>.</li>
<li><strong>Encoding: <code>YAMLEncoder.encode(_:)</code></strong>
Produces a YAML <code>String</code> from an instance of type conforming to <code>Encodable</code>.</li>
<li><strong>Decoding: <code>YAMLDecoder.decode(_:from:)</code></strong>
Decodes an instance of type conforming to <code>Decodable</code> from YAML <code>String</code>.</li>
</ul>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">Yams</span>

<span class="kd">struct</span> <span class="kt">S</span><span class="p">:</span> <span class="kt">Codable</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">p</span><span class="p">:</span> <span class="kt">String</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">s</span> <span class="o">=</span> <span class="kt">S</span><span class="p">(</span><span class="nv">p</span><span class="p">:</span> <span class="s">"test"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">encoder</span> <span class="o">=</span> <span class="kt">YAMLEncoder</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">encodedYAML</span> <span class="o">=</span> <span class="k">try</span> <span class="n">encoder</span><span class="o">.</span><span class="nf">encode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">encodedYAML</span> <span class="o">==</span> <span class="s">"""
p: test

"""</span>
<span class="k">let</span> <span class="nv">decoder</span> <span class="o">=</span> <span class="kt">YAMLDecoder</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">decoded</span> <span class="o">=</span> <span class="k">try</span> <span class="n">decoder</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="kt">S</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="n">encodedYAML</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">p</span> <span class="o">==</span> <span class="n">decoded</span><span class="o">.</span><span class="n">p</span>
</code></pre>
<h4 id='swift-standard-library-types' class='heading'>Swift Standard Library types</h4>

<ul>
<li>The type of Swift Standard Library is inferred from the contents of the
internal <code>Yams.Node</code> representation by matching regular expressions.</li>
<li>This method has the largest computational overhead When decoding YAML, because
the type inference of all objects is done up-front.</li>
<li>It may be easier to use in such a way as to handle objects created from
<code>JSONSerialization</code> or if the input is already standard library types
(<code>Any</code>, <code>Dictionary</code>, <code>Array</code>, etc.).</li>
<li><strong>Encoding: <code>Yams.dump(object:)</code></strong>
Produces a YAML <code>String</code> from an instance of Swift Standard Library types.</li>
<li><strong>Decoding: <code>Yams.load(yaml:)</code></strong>
Produces an instance of Swift Standard Library types as <code>Any</code> from YAML
<code>String</code>.</li>
</ul>
<pre class="highlight swift"><code><span class="c1">// [String: Any]</span>
<span class="k">let</span> <span class="nv">dictionary</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">mapYAML</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">dump</span><span class="p">(</span><span class="nv">object</span><span class="p">:</span> <span class="n">dictionary</span><span class="p">)</span>
<span class="n">mapYAML</span> <span class="o">==</span> <span class="s">"""
key: value

"""</span>
<span class="k">let</span> <span class="nv">loadedDictionary</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">load</span><span class="p">(</span><span class="nv">yaml</span><span class="p">:</span> <span class="n">mapYAML</span><span class="p">)</span> <span class="k">as?</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]</span>

<span class="c1">// [Any]</span>
<span class="k">let</span> <span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">sequenceYAML</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">dump</span><span class="p">(</span><span class="nv">object</span><span class="p">:</span> <span class="n">array</span><span class="p">)</span>
<span class="n">sequenceYAML</span> <span class="o">==</span> <span class="s">"""
- 1
- 2
- 3

"""</span>
<span class="k">let</span> <span class="nv">loadedArray</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]?</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">load</span><span class="p">(</span><span class="nv">yaml</span><span class="p">:</span> <span class="n">sequenceYAML</span><span class="p">)</span> <span class="k">as?</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span>

<span class="c1">// Any</span>
<span class="k">let</span> <span class="nv">string</span> <span class="o">=</span> <span class="s">"string"</span>
<span class="k">let</span> <span class="nv">scalarYAML</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">dump</span><span class="p">(</span><span class="nv">object</span><span class="p">:</span> <span class="n">string</span><span class="p">)</span>
<span class="n">scalarYAML</span> <span class="o">==</span> <span class="s">"""
string

"""</span>
<span class="k">let</span> <span class="nv">loadedString</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">load</span><span class="p">(</span><span class="nv">yaml</span><span class="p">:</span> <span class="n">scalarYAML</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">String</span>
</code></pre>
<h4 id='code-yams-node-code' class='heading'><code>Yams.Node</code></h4>

<ul>
<li>Yams&rsquo; native model representing <a href="http://www.yaml.org/spec/1.2/spec.html#id2764044">Nodes of YAML</a> which provides all
functions such as detection and customization of the YAML format.</li>
<li>Depending on how it is used, computational overhead can be minimized.</li>
<li><strong>Encoding: <code>Yams.serialize(node:)</code></strong>
Produces a YAML <code>String</code> from an instance of <code><a href="Enums/Node.html">Node</a></code>.</li>
<li><strong>Decoding <code>Yams.compose(yaml:)</code></strong>
Produces an instance of <code><a href="Enums/Node.html">Node</a></code> from YAML <code>String</code>.</li>
</ul>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">map</span><span class="p">:</span> <span class="kt">Yams</span><span class="o">.</span><span class="kt">Node</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"array"</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>
    <span class="p">]</span>
<span class="p">]</span>
<span class="n">map</span><span class="o">.</span><span class="n">mapping</span><span class="p">?</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="o">.</span><span class="n">flow</span>
<span class="n">map</span><span class="p">[</span><span class="s">"array"</span><span class="p">]?</span><span class="o">.</span><span class="n">sequence</span><span class="p">?</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="o">.</span><span class="n">flow</span>
<span class="k">let</span> <span class="nv">yaml</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">serialize</span><span class="p">(</span><span class="nv">node</span><span class="p">:</span> <span class="n">map</span><span class="p">)</span>
<span class="n">yaml</span> <span class="o">==</span> <span class="s">"""
{array: [1, 2, 3]}

"""</span>
<span class="k">let</span> <span class="nv">node</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Yams</span><span class="o">.</span><span class="nf">compose</span><span class="p">(</span><span class="nv">yaml</span><span class="p">:</span> <span class="n">yaml</span><span class="p">)</span>
<span class="n">map</span> <span class="o">==</span> <span class="n">node</span>
</code></pre>
<h2 id='license' class='heading'>License</h2>

<p>Both Yams and libYAML are MIT licensed.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>© 2018 <a class="link" href="http://jpsim.com" target="_blank" rel="external">JP Simard</a> under MIT.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
